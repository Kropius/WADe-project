<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title> RAT - Technical report </title>
    <link rel="stylesheet" href="TechnicalReport.css">
</head>

<body>
    <article>
        <header>
            <h1 style="font-size:250% !important;">
                RAT - Technical report
            </h1>
            <section typeof=sa:AuthorList>
                <h2 style="font-size:150% !important;">
                    Developed by:
                </h2>
                <ul style="list-style-type : none;">
                    <li typeOf="sa:ContributorRole" property="schema:Author">
                        <span typeof="schema:Person">
                            <span property="schema:name">Cioată Matei-Alexandru</span>
                        </span>
                    </li>
                    <li typeOf="sa:ContributorRole" property="schema:Author">
                        <span typeof="schema:Person">
                            <span property="schema:name">Lipan Radu-Matei</span>
                        </span>
                    </li>
                    <li typeOf="sa:ContributorRole" property="schema:Author">
                        <span typeof="schema:Person">
                            <span property="schema:name">Rezmeriță Mihnea-Ioan</span>
                        </span>
                    </li>
                </ul>
            </section>
        </header>
        <section>
            <h2> 1. Description </h2>
            <p> &emsp; &emsp;
                The application Rest Api Interactive Tool(known as RAT) is a web tool that uses natural language
                constructs to interact with different REST APIs based on their OpenApi
                documentation. With this, a human-like(text based/voice) interaction with the given APIs will be
                possible. The end user will have the possibility to select an API, from a predefined list, or upload 
                the OpenAPI specification of one. He will be able to interact in a natural manner with the API using
                the web interface of the application.
            </p>
            <p>
                &emsp; &emsp; The application will be able to determine valid routes, with valid request bodies or even
                query parameters, according to the selected RestApi, based on the user's commands in natural language.
            </p>
        </section>
        <section>
            <h2>2. Usecase</h2>
            <figure typeOf="sa:image">
                    <img src="../ArchitectureAndDesign/use-case.jpg" alt="Usecase diagram">
                    <figcaption style="text-align: center;">Fig. 1: Usecase diagram</figcaption>
            </figure>
            <p>
                &emsp; &emsp; The above diagram displays the possible ways the user can interact with the application:
            </p>
            <ul>
                <li><em>Uploads a valid OpenApi documentation:</em> The user can upload an OpenApi documentation that will
                    be parsed and saved on the server side to facilitate future queries in natural language.</li>
                <li><em>Choose an available API: </em> The user will select a certain API from the given list of previously
                    added APIs. The application will make the future translation based on this API.</li>
                <li><em>Types a request: </em> The user can type any sentance he wants and the application will try to map
                    it to a valid <em>route</em>, <em>body</em>, <em>Rest verb</em> and <em>parameters</em> </li>
                <li><em>Uses speech recognition in order to send the request: </em> Similar to <em>Types a request</em> but
                    this time, the user speak aloud his request and the application will transform the recording to text and
                    then return a valid <em>route</em>, <em>body</em>, <em>Rest verb</em> and <em>parameters</em> </li>
            </ul>
        </section>
        <section>
            <h2>3. Architecture</h2>
            <p> &emsp; &emsp;
                TBD
            </p>
        </section>
        <section>
            <h2>4. Natural Language Processing</h2>
            <p> &emsp; &emsp;
            <h3>4.1 Optional Preprocessing: <em>Speech recognition</em> </h3>
            <p>&emsp; &emsp;
                A nice bonus would be to have speech recognition capabilities, meaning that user will be able
                to use his voice in order to <em>type</em> his request.

                In order to do this, we will have to:
            </p>
            <ol>
                <li>
                   Let the user record his voice and save it in cookies or browser storage;
                </li>
                <li>
                    Send the recording to <a href="https://cloud.google.com/speech-to-text">Google Cloud Speech-To-Text</a> service;
                 </li>
                 <li>
                     Use the text returned as the text <en>typed</en> by our user in incoming steps;
                 </li>
            </ol>
        </section>
        <section>
            <h2>5. Rest API</h2>
            <p> &emsp; &emsp;
                The following routes will be <em>necessary but not sufficient</em> for our project:
            </p>
            <ul>
                <li>
                    <b>POST /apis</b> - creates a new Api entry in the database.
                </li>
                <li>
                    <b>GET /apis/{id}</b> - returns all data about the api with the given <em>id</em>. This endpoint will be used more internally.
                </li>
                <li>
                    <b>GET /apis/specifications</b> - lists all stored api specifications. By specification, we mean all the data necessary to display
                    the api in our frontend app: api's internal id, api's public url, api's OpenApi specification url and information about how we should
                    authenticate to the respective api (ApiKey, Oauth2 or no authentication needed)
                </li>
                <li>
                    <b>POST /apis/:id/nlp-to-rest </b> - Translate a command given in natural language into a valid REST request. The natural language text
                    will represent the post's body. This text will be processed as described under <em>4. Natural Language Processing</em> with the help of
                    <a href="https://cloud.google.com/natural-language">Google's Natural Language Processing API</a>. The api will respond with all the elements
                    needed for the client application to create a valid REST request: <em>route</em>, <em>body</em>, <em>Rest verb</em> and <em>parameters</em>.
                </li>
            </ul>
            <p> &emsp; &emsp;
                More detail can be found in our <a href="https://github.com/Kropius/WADe-project/blob/main/documentation/OpenApi/openapi.yaml">OpenAPI Specification</a>.
                Please use <a href="https://editor.swagger.io/">Swagger editor</a>  to read more easly.
            </p>
        </section>
        <section>
            <h2>6. Front-end</h2>
            <p> &emsp; &emsp; The use will interact with a single-page application(SPA), built with React or Angular. </p>
            <figure typeOf="sa:image" class="ignore-margins">
                <img src="../ArchitectureAndDesign/rat-frontend.png" alt="Frontend Design">
                <figcaption style="text-align: center;">Fig. 2: Front-end concept</figcaption>
            </figure>
            <p>&emsp; &emsp; The design above is more of a guideline and might not be replicated perfectly. </p>

        </section>
        <section>
            <h2>7. Bibliography</h2>
            <p> &emsp; &emsp;
                TBD
            </p>
        </section>

    </article>
</body>

</html>